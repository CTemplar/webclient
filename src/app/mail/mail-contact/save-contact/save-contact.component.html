<form class="mail-actions-form"
      (submit)="createNewContact()"
      #newContactForm="ngForm">
    <div class="form-group">
         <!-- Email validation -->
         <div class="md-errors-spacer" *ngIf="contactName.errors || !contactName.untouched">
            <div *ngIf="contactName.errors && contactName.errors.required">
                <span class="d-block text-right error-msg is-sm" translate="contacts.save.name_required">Name is required</span>
            </div>
        </div>
        <div class="row align-items-center">
            <div class="col-sm-2">
                <label class="form-label mb-sm-0" for="contactName">
                    <span translate="common.name">Name</span><sup>*</sup></label>
            </div>
            <div class="col-sm-10">
                <input class="form-control form-control-sm" id="contactName"
                       name="name" required
                       #contactName="ngModel"
                       [(ngModel)]="newContactModel.name"
                       [placeholder]="'contacts.contact_name'| translate" type="text"/>
            </div>
        </div>
    </div>
    <div class="form-group is-repeatable add-button">
        <!-- Email validation -->
        <div class="md-errors-spacer" *ngIf="contactEmail.errors">
            <div *ngIf="contactEmail.errors.required">
                <span class="d-block text-right error-msg is-sm" translate="contacts.save.email_req">Email address is required</span>
            </div>
            <div *ngIf="contactEmail.errors.pattern">
                <span class="d-block text-right error-msg is-sm" translate="contacts.save.email_not_valid"> Email address is not valid</span>
            </div>
        </div>
        <!-- Email -->
        <div class="row align-items-center">
            <div class="col-sm-2">
                <label class="form-label mb-sm-0" for="contactEmail">
                    <span translate="common.email">Email</span><sup>*</sup></label>
            </div>
            <div class="col-sm-10">
                <input class="form-control form-control-sm" id="contactEmail"
                       name="email" required
                       [(ngModel)]="newContactModel.email"
                       #contactEmail="ngModel"
                       [placeholder]="'contacts.type_email'| translate" type="text"
                       pattern="^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$"/>
            </div>
            <button type="button" class="add-button-link"><img src="assets/images/plus@2x.png"></button>
        </div>
    </div>
    <div class="mb-2 hidden-xs-down">&nbsp;</div>
    <div class="form-group add-button">
        <div class="row align-items-center">
            <div class="col-sm-2">
                <label class="form-label mb-sm-0" for="contactPhone1" translate="common.phone">Phone</label>
            </div>
            <div class="col-sm-10">
                <input class="form-control form-control-sm" id="contactPhone1"
                       name="phone"
                       [(ngModel)]="newContactModel.phone"
                       [placeholder]="'common.phone'| translate" type="text"/>
            </div>
            <button type="button" class="add-button-link"><img src="assets/images/plus@2x.png"></button>
        </div>
    </div>
    <div class="form-group is-repeatable add-button">
        <div class="row align-items-center">
            <div class="col-sm-2">
                <label class="form-label mb-sm-0" for="contactPhone2" translate="contacts.phone2">Phone2</label>
            </div>
            <div class="col-sm-10">
                <input class="form-control form-control-sm" id="contactPhone2" [placeholder]="'common.phone'| translate"
                       name="phone2"
                       [(ngModel)]="newContactModel.phone2"
                       type="text"/>
            </div>
            <button type="button" class="add-button-link"><img src="assets/images/plus@2x.png"></button>
        </div>
    </div>
    <div class="form-group is-repeatable add-button">
        <div class="row">
            <div class="col-sm-2">
                <label class="form-label pt-sm-2 mb-sm-0" for="contactAddress" translate="contacts.address">Address</label>
            </div>
            <div class="col-sm-10">
                                    <textarea class="form-control form-control-sm resize-off" id="contactAddress" [placeholder]="'contacts.address'| translate"
                                              name="address"
                                              [(ngModel)]="newContactModel.address"
                                              rows="3"></textarea>
            </div>
            <button type="button" class="add-button-link"><img src="assets/images/plus@2x.png"></button>
        </div>
    </div>
    <div class="mb-2 hidden-xs-down">&nbsp;</div>
    <div class="form-group">
        <div class="row">
            <div class="col-sm-2">
                <label class="form-label pt-sm-2 mb-sm-0" for="contactNote" translate="contacts.note">Note</label>
            </div>
            <div class="col-sm-10">
                                    <textarea class="form-control form-control-sm resize-off" id="contactNote" [placeholder]="'a_note'| translate"
                                              name="note"
                                              [(ngModel)]="newContactModel.note"
                                              rows="3"></textarea>
            </div>
        </div>
    </div>
    <div class="hidden-sm-up">&nbsp;</div>
    <div class="error-msg" *ngIf="newContactForm.submitted && newContactForm.invalid" translate="contacts.save.error">
        Please fill in required fields.
    </div>
    <div class="form-group text-right mb-0">
        <input type="submit"
               [disabled]="inProgress"
               class="btn btn-secondary btn-sm" role="button"
               [value]="'common.save' | translate">
        <app-loading-spinner [showSpinner]="inProgress"></app-loading-spinner>
    </div>
</form>
